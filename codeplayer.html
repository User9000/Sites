<!doctype html>

<html>
<head>
    
    <title>CodePlayer</title>
    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style type="text/css">

    body{
     margin: 0 auto;
  }
    #container{
        width: 1500px;
        font-family: sans-serif;
    }

       #panel{
           height:60px;
           background-color:#5f5f5f;
           font-family: HelveticaNeue-Light;
           position:relative;
           margin: 0 auto;
      }
       #panel ul{
           margin:0px;
           margin-top:20px;
           margin-left: 380px;
           float:left;
      }
      #panel li{
        list-style: none;
        float:left;
        margin-left: 1px;
        background-color:white;
        border: 1px solid black;
        border-radius: 7%;
        padding: 8px;
       }
       #panel h2{
        float:left;
        margin:0px;
        margin-top:20px;
        margin-left: 20px;
        color:white;
 }


 #runButton{
     padding: 6px;
     float: left;
     margin-top:20px;
     margin-left: 200px;
     font-family: HelveticaNeue-Light;
     font-size: 1.2em;


 }
      
    #CSSContainer,#JSContainer{
        display: none;
    }
         
       #enter{

           float:left;
       }
       .toggle:hover{

           background-color: orange  !important;;
           box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
           cursor: pointer;
       }
    
   .clear{
           clear: both;
       }

.codeContainer{

    float: left;
    height: 100%;
    width: 50%;

}


   .codeContainer textarea{

       width: 100%;
       height: 100%;
       border: none;
       border-right: 1px solid gray;
       box-sizing: border-box;
       font-family: monotype;
       font-size: 90%;
       padding: 5px;


   }

      .codeContainer iframe{

       width: 100%;
       height: 100%;
       border: none;
       border-right: 1px solid gray;
       box-sizing: border-box;
       font-family: monotype;
       font-size: 90%;
       padding: 5px;



   .selected{

       background-color: gray !important;
   }
     
    </style>    
 
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  

</head>
<body>
    <div id="container">

    <div id="panel">
        <h2>CodePlayer</h2>  

        <ul>
            <li class="toggle selected" name="html">HTML</li>
            <li class="toggle" name="css">CSS</li>
            <li class="toggle" name="js">JS</li>
            <li class="toggle selected" name="result">Result</li>
         </ul> 
    
    
    
    <button id="runButton">Run</button>

    </div>

    
    <div class="clear"></div>

       <div class="codeContainer" id="HTMLContainer">
           <textarea id="html">HTML</textarea>


       </div>

  <div class="codeContainer" id="CSSContainer">

                <textarea id="css">CSS</textarea>

       </div>

 <div class="codeContainer" id="JSContainer">

             <textarea>Javascript</textarea>
       </div>
 <div class="codeContainer" id="ResultContainer">

             
             <iframe id="resultFrame"></iframe>
       </div>
 
<div class="clear"></div>

       
        
    </div>


<script>  
  /*var bhtmlC = 0;
  var bcssC =0;
  var bjsC=0;
  var bresultC = 0;

//html button
    $("#bhtml").click(function(){

           if( bhtmlC > 0 )
           {
               $("#bhtml").css("backgroundColor","white");
               $("#html").empty();
               clearCss();
               clearJs();
               clearResult();
               bhtmlC=0;

           }
           else{
                if (bresultC > 0 ){

                    clearResult();
                }
            bhtmlC++;
           $("#bhtml").css("backgroundColor","gray");
           $("#html").text("<div id='test'>HelloWorld</div>");

           }

    });

    //css button
     $("#bcss").click(function(){

           if(bcssC > 0)
           {
               $("#bcss").css("backgroundColor","white");
               $("#css").empty();
               clearResult();
               bcssC=0;
           }
           else{
                if (bresultC > 0 ){

                    clearResult();
                }
            bcssC++;
           $("#bcss").css("backgroundColor","gray");
           $("#css").text("#test{  background-color:green; }");
       }
          

    });
    //js button
 $("#bjs").click(function(){

        if (bjsC > 0 ){
            $("#bjs").css("backgroundColor","white");
            $("#js").empty();
            clearResult();
            bjsC=0;

        }
        else{
               if (bresultC > 0 ){

                    clearResult();
                }
           $("#bjs").css("backgroundColor","gray");
           $("#js").text("<div><p>HelloWorld</p></div>");
           bjsC++;

        }
          

    });

    //result button
 $("#bresult").click(function(){

    if(checkCounters())
    {
        if (bresultC > 0){
                
          clearResult();

        }
        else {
         
         if(checkIt()){

                 $("#bresult").css("backgroundColor","gray");

           }
           bresultC++;
        }
        
    }

    });
//depending on the buttons click display on the result box.

   function checkIt() {
    if(bhtmlC >0 && bcssC > 0)
      {
        $("#result").append("<div id='test'>HelloWorld</div>");
        $("#test").css("backgroundColor","green");
        return true;
        
      }
      else if (bhtmlC > 0 &&  bcssC == 0 ){

           $("#result").append("<div id='test'>HelloWorld</div>");
           return true;
      }
      else if ( bhtmlC == 0 && bcssC > 0){
        
           alert("It needs html selected");

           return false;

      }
   }
//clear the result box
   function clearResult(){

         $("#bresult").css("backgroundColor","white");
         $("#result").empty();
         bresultC=0;


   }
//clears the CSS box 
function clearCss (){

         $("#bcss").css("backgroundColor","white");
         $("#css").empty();
         bcssC=0;

}

//clears the js script box
function clearJs(){

      $("#bjs").css("backgroundColor","white");
      $("#js").empty();
       bjsC=0;

}

//checks to see if the buttons are selected
function checkCounters(){
  
  if (bhtmlC == 0 &&  bcssC==0 ){

      alert("nothing to display");

    return false;

  }
  return true;

}
*/


//get the height
var windowHeight =$(window).height();
var panelHeight= $("#panel").height();
var codeContainer= windowHeight - panelHeight;

$(".codeContainer").height(codeContainer+"px");






/*
    
    Toggle function  


*/

$(".toggle").click(function(){

    $(this).toggleClass("selected");

    //get the name html of the button
     var activeDiv = $(this).html();

   //with the name make the box go away
     $("#"+activeDiv+"Container").toggle();

//by filtering which divs are not displaying...get the number
     var showingDivs=$(".codeContainer").filter(function(){


         return($(this).css("display")!="none");

     }).length;
  
//with the number of active divs ... that is buttons clicked on .... divide it by 100 %
  var width= 100/showingDivs;

  $(".codeContainer").width(width+"%");

 
      


});


$("#runButton").click(function(){

   $("iframe").contents().find("html").html("<style>"+$('#css').val()+"</style>"+$("#html").val());


});




</script>
        
  </body>
        
 </html>       


